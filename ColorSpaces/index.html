<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/Mein-Logo.png"/>
	 <link rel="shortcut icon" href="/img/Mein-Logo.png">
	
			
    <title>
    Learn in Life
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/css/mic_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    
    	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>

			    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
	
<link rel="stylesheet" href="/css/prism-okaidia.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
    
		
<!-- Layouts -->



<!--  代码渲染  -->
<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<!-- 文章页 -->
<body class="is-loading">
    <!-- Wrapper 外包 s-->
    <div id="wrapper" class="fade-in">
        <!-- Intro 头部显示 s -->
        <!-- Intro 头部显示 e -->
        <!-- Header 头部logo start -->
        <header id="header">
    <a href="/" class="logo">EvilPerfectionist</a>
</header>
        <!-- Nav 导航条 start -->
        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow">主页</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">分类</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/Diary/">Diary</a></li><li><a class="category-link" href="/categories/OpenCV/">OpenCV</a></li><li><a class="category-link" href="/categories/Summary/">Summary</a></li><li><a class="category-link" href="/categories/Travel/">Travel</a>
	                    </ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/about/" title="简历">
		                简历
		            </a>
		        </li>
		        
		        <li>
		            <a href="/group/" title="团队">
		                团队
		            </a>
		        </li>
		        
		        <li>
		            <a href="/gallery/" title="图库">
		                图库
		            </a>
		        </li>
		        
		        <li>
		            <a href="/tag/" title="标签">
		                标签
		            </a>
		        </li>
		        


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
		            
		                <li><a href="https://github.com/EvilPerfectionist" class="icon fa-github"><span class="label">GitHub</span></a></li>
		            
		            
		            
		            
			</ul>
</nav>

        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(http://ox8ixvjau.bkt.clouddn.com/blog/171210/9jAdD15e9i.jpg);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >ColorSpaces</h2></a>
            </div>
            <!-- Post -->
            <div class="typo" style="padding: 3rem;">
                <h2 id="Preface"><a href="#Preface" class="headerlink" title=" Preface "></a><font color="#0099ff"><center> Preface </center></font></h2><font size="4" face="微软雅黑"><br><br>This year our team will participate in a robot competition,Robomaster.Instead of taking charge of mechanisms,I am trying to learn coding and automatic control.Recently,I am learning C++ and OpenCV.And I will take notes and write some blogs to summarize the knowledge I have learned.<br><br><strong><font color="DeepPink">When you analyze the codes, the most important thing is to separate them into different parts according to the functions. And then annotate the last part or sentence. Next, analyze the parameters in them. They will take you back to the other parts. Then,you will grasp the structure of the codes and gradually understand all of them . So, remember this method and use it. </font></strong><br><br></font>

<h2 id="Content"><a href="#Content" class="headerlink" title=" Content "></a><font color="red"><center> Content </center></font></h2><pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;opencv2/opencv.hpp></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;opencv2/imgproc/imgproc.hpp></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;opencv2/highgui/highgui.hpp></span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> cv<span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>


<span class="token macro property">#<span class="token directive keyword">define</span> T_ANGLE_THRE 10</span>
<span class="token macro property">#<span class="token directive keyword">define</span> T_SIZE_THRE 5</span>


<span class="token keyword">void</span> <span class="token function">BrightAdjust</span><span class="token punctuation">(</span>IplImage<span class="token operator">*</span> src<span class="token punctuation">,</span> IplImage<span class="token operator">*</span> dst<span class="token punctuation">,</span>
    <span class="token keyword">double</span> dContrast<span class="token punctuation">,</span> <span class="token keyword">double</span> dBright<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> nVal<span class="token punctuation">;</span>

    <span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span> SrcData <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src<span class="token operator">-</span><span class="token operator">></span>imageData<span class="token punctuation">;</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span> DstData <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dst<span class="token operator">-</span><span class="token operator">></span>imageData<span class="token punctuation">;</span>
    <span class="token keyword">int</span> step <span class="token operator">=</span> src<span class="token operator">-</span><span class="token operator">></span>widthStep <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> nI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> nI<span class="token operator">&lt;</span>src<span class="token operator">-</span><span class="token operator">></span>height<span class="token punctuation">;</span> nI<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> nJ <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> nJ <span class="token operator">&lt;</span>src<span class="token operator">-</span><span class="token operator">></span>width<span class="token punctuation">;</span> nJ<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> nK <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> nK <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> nK<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                nVal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>dContrast <span class="token operator">*</span> SrcData<span class="token punctuation">[</span><span class="token punctuation">(</span>nI<span class="token operator">*</span>step <span class="token operator">+</span> nJ<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> nK<span class="token punctuation">]</span> <span class="token operator">+</span> dBright<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>nVal <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
                    nVal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>nVal <span class="token operator">></span> <span class="token number">255</span><span class="token punctuation">)</span>
                    nVal <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span>
                DstData<span class="token punctuation">[</span><span class="token punctuation">(</span>nI<span class="token operator">*</span>step <span class="token operator">+</span> nJ<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> nK<span class="token punctuation">]</span> <span class="token operator">=</span> nVal<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">GetDiffImage</span><span class="token punctuation">(</span>IplImage<span class="token operator">*</span> src1<span class="token punctuation">,</span> IplImage<span class="token operator">*</span> src2<span class="token punctuation">,</span> IplImage<span class="token operator">*</span> dst<span class="token punctuation">,</span> <span class="token keyword">int</span> nThre<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span> SrcData1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src1<span class="token operator">-</span><span class="token operator">></span>imageData<span class="token punctuation">;</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span> SrcData2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>src2<span class="token operator">-</span><span class="token operator">></span>imageData<span class="token punctuation">;</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span> DstData <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>dst<span class="token operator">-</span><span class="token operator">></span>imageData<span class="token punctuation">;</span>
    <span class="token keyword">int</span> step <span class="token operator">=</span> src1<span class="token operator">-</span><span class="token operator">></span>widthStep <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> nI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> nI<span class="token operator">&lt;</span>src1<span class="token operator">-</span><span class="token operator">></span>height<span class="token punctuation">;</span> nI<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> nJ <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> nJ <span class="token operator">&lt;</span>src1<span class="token operator">-</span><span class="token operator">></span>width<span class="token punctuation">;</span> nJ<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>SrcData1<span class="token punctuation">[</span>nI<span class="token operator">*</span>step <span class="token operator">+</span> nJ<span class="token punctuation">]</span> <span class="token operator">-</span> SrcData2<span class="token punctuation">[</span>nI<span class="token operator">*</span>step <span class="token operator">+</span> nJ<span class="token punctuation">]</span><span class="token operator">></span> nThre<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                DstData<span class="token punctuation">[</span>nI<span class="token operator">*</span>step <span class="token operator">+</span> nJ<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
            <span class="token punctuation">{</span>
                DstData<span class="token punctuation">[</span>nI<span class="token operator">*</span>step <span class="token operator">+</span> nJ<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    IplImage<span class="token operator">*</span> pFrame0 <span class="token operator">=</span> <span class="token function">cvLoadImage</span><span class="token punctuation">(</span><span class="token string">"6.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    CvSize pImgSize<span class="token punctuation">;</span>
    CvBox2D s<span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span>CvBox2D<span class="token operator">></span> vEllipse<span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span>CvBox2D<span class="token operator">></span> vRlt<span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span>CvBox2D<span class="token operator">></span> vArmor<span class="token punctuation">;</span>
    CvScalar sl<span class="token punctuation">;</span>
    <span class="token keyword">bool</span> bFlag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    CvSeq <span class="token operator">*</span>pContour <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    CvMemStorage <span class="token operator">*</span>pStorage <span class="token operator">=</span> <span class="token function">cvCreateMemStorage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    pImgSize <span class="token operator">=</span> <span class="token function">cvGetSize</span><span class="token punctuation">(</span>pFrame0<span class="token punctuation">)</span><span class="token punctuation">;</span>

    IplImage <span class="token operator">*</span>pRawImg <span class="token operator">=</span> <span class="token function">cvCreateImage</span><span class="token punctuation">(</span>pImgSize<span class="token punctuation">,</span> IPL_DEPTH_8U<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    IplImage<span class="token operator">*</span> pGrayImage <span class="token operator">=</span> <span class="token function">cvCreateImage</span><span class="token punctuation">(</span>pImgSize<span class="token punctuation">,</span> IPL_DEPTH_8U<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IplImage<span class="token operator">*</span> pRImage <span class="token operator">=</span> <span class="token function">cvCreateImage</span><span class="token punctuation">(</span>pImgSize<span class="token punctuation">,</span> IPL_DEPTH_8U<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IplImage<span class="token operator">*</span> pGImage <span class="token operator">=</span> <span class="token function">cvCreateImage</span><span class="token punctuation">(</span>pImgSize<span class="token punctuation">,</span> IPL_DEPTH_8U<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IplImage <span class="token operator">*</span>pBImage <span class="token operator">=</span> <span class="token function">cvCreateImage</span><span class="token punctuation">(</span>pImgSize<span class="token punctuation">,</span> IPL_DEPTH_8U<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IplImage <span class="token operator">*</span>pBinary <span class="token operator">=</span> <span class="token function">cvCreateImage</span><span class="token punctuation">(</span>pImgSize<span class="token punctuation">,</span> IPL_DEPTH_8U<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IplImage <span class="token operator">*</span>pRlt <span class="token operator">=</span> <span class="token function">cvCreateImage</span><span class="token punctuation">(</span>pImgSize<span class="token punctuation">,</span> IPL_DEPTH_8U<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    CvSeq<span class="token operator">*</span> lines <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    CvMemStorage<span class="token operator">*</span> storage <span class="token operator">=</span> <span class="token function">cvCreateMemStorage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pFrame0<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">BrightAdjust</span><span class="token punctuation">(</span>pFrame0<span class="token punctuation">,</span> pRawImg<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">cvSplit</span><span class="token punctuation">(</span>pRawImg<span class="token punctuation">,</span> pBImage<span class="token punctuation">,</span> pGImage<span class="token punctuation">,</span> pRImage<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token function">GetDiffImage</span><span class="token punctuation">(</span>pRImage<span class="token punctuation">,</span> pGImage<span class="token punctuation">,</span> pBinary<span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">cvErode</span><span class="token punctuation">(</span>pBinary<span class="token punctuation">,</span> pGrayImage<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">cvDilate</span><span class="token punctuation">(</span>pGrayImage<span class="token punctuation">,</span> pRlt<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token function">cvFindContours</span><span class="token punctuation">(</span>pRlt<span class="token punctuation">,</span> pStorage<span class="token punctuation">,</span> <span class="token operator">&amp;</span>pContour<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>CvContour<span class="token punctuation">)</span><span class="token punctuation">,</span> CV_RETR_CCOMP<span class="token punctuation">,</span> CV_CHAIN_APPROX_SIMPLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> pContour <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> pContour <span class="token operator">=</span> pContour<span class="token operator">-</span><span class="token operator">></span>h_next<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>pContour<span class="token operator">-</span><span class="token operator">></span>total <span class="token operator">></span> <span class="token number">10</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    bFlag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    s <span class="token operator">=</span> <span class="token function">cvFitEllipse2</span><span class="token punctuation">(</span>pContour<span class="token punctuation">)</span><span class="token punctuation">;</span>

                    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> nI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> nI <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> nI<span class="token operator">++</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> nJ <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> nJ <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> nJ<span class="token operator">++</span><span class="token punctuation">)</span>
                        <span class="token punctuation">{</span>
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>center<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">+</span> nJ <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>center<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">+</span> nJ <span class="token operator">&lt;</span> <span class="token number">480</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>center<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">+</span> nI <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>center<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">+</span> nI <span class="token operator">&lt;</span>  <span class="token number">640</span><span class="token punctuation">)</span>
                            <span class="token punctuation">{</span>
                                sl <span class="token operator">=</span> <span class="token function">cvGet2D</span><span class="token punctuation">(</span>pFrame0<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>center<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">+</span> nJ<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>center<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">+</span> nI<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token keyword">if</span> <span class="token punctuation">(</span>sl<span class="token punctuation">.</span>val<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">200</span> <span class="token operator">||</span> sl<span class="token punctuation">.</span>val<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">200</span> <span class="token operator">||</span> sl<span class="token punctuation">.</span>val<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">200</span><span class="token punctuation">)</span>
                                    bFlag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>bFlag<span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                        vEllipse<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token function">cvEllipseBox</span><span class="token punctuation">(</span>pFrame0<span class="token punctuation">,</span> s<span class="token punctuation">,</span> <span class="token function">CV_RGB</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span>
            <span class="token function">cvShowImage</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">,</span> pFrame0<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">cvShowImage</span><span class="token punctuation">(</span><span class="token string">"3"</span><span class="token punctuation">,</span> pRawImg<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">cvShowImage</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">,</span> pBinary<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">cvShowImage</span><span class="token punctuation">(</span><span class="token string">"5"</span><span class="token punctuation">,</span> pGrayImage<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">cvShowImage</span><span class="token punctuation">(</span><span class="token string">"6"</span><span class="token punctuation">,</span> pRlt<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">cvWaitKey</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<center><br><img src="http://ox8ixvjau.bkt.clouddn.com/images/1.jpg"><br></center>

<h3 id="This-is-the-picture-I-want-to-detect"><a href="#This-is-the-picture-I-want-to-detect" class="headerlink" title=" This is the picture I want to detect. "></a><center> This is the picture I want to detect. </center></h3><center><br><img src="http://ox8ixvjau.bkt.clouddn.com/images/2.jpg"><br></center>

<h3 id="This-is-the-dectected-picture"><a href="#This-is-the-dectected-picture" class="headerlink" title=" This is the dectected picture. "></a><center> This is the dectected picture. </center></h3><pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token function">cvEllipseBox</span><span class="token punctuation">(</span>pFrame0<span class="token punctuation">,</span> s<span class="token punctuation">,</span> <span class="token function">CV_RGB</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>This sentence turn the former to the latter.So,I begin my analysis from here.This function is used to draw elliptic arc or fill an ellipse sector.<a href="http://docs.opencv.org/2.4/modules/core/doc/drawing_functions.html" target="_blank" rel="noopener"><font color="cyan">You can click here to see it</font></a>.I have changed the parameters to observe its change.</p>
<p>The fourth parameter which is given as ‘2’ represents the thickness of the ellipse arc outline, <font color="red">if positive</font>.Otherwise, this indicates that a filled ellipse sector is to be drawn.In other words, if the parameter is setted&gt;0(positive),a outline will be shown.While the parameter is setted&lt;0,a filled ellipse outline will be shown.</p>
<p>The third parameter is color,There are two functions,CV_RGB(<font color="red">R,G,B</font>) and cvScalar(<font color="red">B,G,R</font>).In this case,namely CV_RGB(255, 0, 0), it means complete red.<font color="LawnGreen">And two functions are connected with each other by #define</font>.</p>
<p>The second parameter is box. I can not clearly understand it right now.But this parameter indicates that the function draws <font color="GreenYellow"> an ellipse inscribed in the rotated rectangle </font>.It can be understood like this:</p>
<center><br><img src="http://ox8ixvjau.bkt.clouddn.com/images/inscribed.jpg"><br></center>

<p>So,we can notice that ‘s’ is an important parameter.I decide to begin with it.After define it with this code:</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">CvBox2D s<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>An important sentence should be paid attention to:</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">s <span class="token operator">=</span> <span class="token function">cvFitEllipse2</span><span class="token punctuation">(</span>pContour<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>The function calculates the ellipse that fits a set of 2D points best of all. It returns the rotated rectangle in which the ellipse is inscribed.And then we look downward:</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> nI <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> nI <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> nI<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> nJ <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> nJ <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> nJ<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span>center<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">+</span> nJ <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>center<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">+</span> nJ <span class="token operator">&lt;</span> <span class="token number">480</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>center<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">+</span> nI <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>center<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">+</span> nI <span class="token operator">&lt;</span>  <span class="token number">640</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            sl <span class="token operator">=</span> <span class="token function">cvGet2D</span><span class="token punctuation">(</span>pFrame0<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>center<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">+</span> nJ<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>center<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">+</span> nI<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>sl<span class="token punctuation">.</span>val<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">200</span> <span class="token operator">||</span> sl<span class="token punctuation">.</span>val<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">200</span> <span class="token operator">||</span> sl<span class="token punctuation">.</span>val<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">200</span><span class="token punctuation">)</span>
            bFlag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>We can see ‘s.center.y’ and ‘s.center.x’ in these codes.So ‘CvBox2D’ must be a struct.And one of its methods is ‘center’.Of course, the function of ‘center’ must be a struct as well,it has two methods,’x’ and ‘y’.<font color="LawnGreen">So,’s.center.y’ represents the y coordinates. </font></p>
<p>These codes detect the ellipses which beyond the picture and delete them.Besides,they also detect the color surrounding the center of every ellipses.If they are not suitable,the bFlag will be equivalent to ‘false’.</p>
<p>‘sl’ is defined above:</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">CvScalar sl<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>We should notice that the type ‘CvScalar’ is different from the type ‘cvScalar’ which is mentioned above.It does not relate to color at all.And it has one method ‘val’.</p>
<font color="red">Besides,I want to say that ‘int n[6];’ is allowed,which means it defines an array which has 6 numbers.</font>

<p>Now,we completely deal with the variable ‘s’.And next one is ‘pContour’ and ‘pFrame0’.</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">CvSize pImgSize<span class="token punctuation">;</span>
pImgSize <span class="token operator">=</span> <span class="token function">cvGetSize</span><span class="token punctuation">(</span>pFrame0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>‘CvSize’ means the size of a rectangle or an image.</p>
<p>‘cvGetSize’ returns number of rows and number of columns.</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">    IplImage <span class="token operator">*</span>pRawImg <span class="token operator">=</span> <span class="token function">cvCreateImage</span><span class="token punctuation">(</span>pImgSize<span class="token punctuation">,</span> IPL_DEPTH_8U<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IplImage<span class="token operator">*</span> pGrayImage <span class="token operator">=</span> <span class="token function">cvCreateImage</span><span class="token punctuation">(</span>pImgSize<span class="token punctuation">,</span> IPL_DEPTH_8U<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IplImage<span class="token operator">*</span> pRImage <span class="token operator">=</span> <span class="token function">cvCreateImage</span><span class="token punctuation">(</span>pImgSize<span class="token punctuation">,</span> IPL_DEPTH_8U<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IplImage<span class="token operator">*</span> pGImage <span class="token operator">=</span> <span class="token function">cvCreateImage</span><span class="token punctuation">(</span>pImgSize<span class="token punctuation">,</span> IPL_DEPTH_8U<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IplImage <span class="token operator">*</span>pBImage <span class="token operator">=</span> <span class="token function">cvCreateImage</span><span class="token punctuation">(</span>pImgSize<span class="token punctuation">,</span> IPL_DEPTH_8U<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IplImage <span class="token operator">*</span>pBinary <span class="token operator">=</span> <span class="token function">cvCreateImage</span><span class="token punctuation">(</span>pImgSize<span class="token punctuation">,</span> IPL_DEPTH_8U<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    IplImage <span class="token operator">*</span>pRlt <span class="token operator">=</span> <span class="token function">cvCreateImage</span><span class="token punctuation">(</span>pImgSize<span class="token punctuation">,</span> IPL_DEPTH_8U<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>IplImage *xxx = cvCreateImage(xxx, IPL_DEPTH_8U, xxx);can be considered as a particular usage.All these codes are used to create a new image memory block and store the future results.</p>
<font color="red">So,in this step we create a lot of empty arrays.They can be used for storage of the images which have been transformed.</font>

<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token function">BrightAdjust</span><span class="token punctuation">(</span>pFrame0<span class="token punctuation">,</span> pRawImg<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>This function copys one image array(pFrame0) to another one(pRawImg) which also has three channels, but change how bright the picture is.Therefore,you can change the value of ‘-120’ to adjust the brightness.For example:</p>
<center><br><img src="http://ox8ixvjau.bkt.clouddn.com/images/3.jpg"><br></center>

<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token function">cvSplit</span><span class="token punctuation">(</span>pRawImg<span class="token punctuation">,</span> pBImage<span class="token punctuation">,</span> pGImage<span class="token punctuation">,</span> pRImage<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Then we use ‘cvSplit’ to spilt the image into four channels,the first parameter represents the image,and the next three parameter represent the B,G,R channel.I do not know which channel the fourth parameter represents.The default setting of it is ‘NULL’.</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token function">GetDiffImage</span><span class="token punctuation">(</span>pRImage<span class="token punctuation">,</span> pGImage<span class="token punctuation">,</span> pBinary<span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">cvErode</span><span class="token punctuation">(</span>pBinary<span class="token punctuation">,</span> pGrayImage<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">cvDilate</span><span class="token punctuation">(</span>pGrayImage<span class="token punctuation">,</span> pRlt<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>‘GetDiffImage’ compare the R channel with the G channel.The place where the difference is larger than 25 will be setted as ‘white’ and the rest will be setted as ‘black’:</p>
<center><br><img src="http://ox8ixvjau.bkt.clouddn.com/images/4.jpg"><br></center>


<p>‘cvErode’ and ‘cvDilate’ are functions to erode and dilate the pictures:</p>
<center><br><img src="http://ox8ixvjau.bkt.clouddn.com/images/5.jpg"><br></center>

<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token function">cvFindContours</span><span class="token punctuation">(</span>pRlt<span class="token punctuation">,</span> pStorage<span class="token punctuation">,</span> <span class="token operator">&amp;</span>pContour<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>CvContour<span class="token punctuation">)</span><span class="token punctuation">,</span> CV_RETR_CCOMP<span class="token punctuation">,</span> CV_CHAIN_APPROX_SIMPLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>This function is to find contours in a binary image.<a href="http://docs.opencv.org/2.4/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html" target="_blank" rel="noopener"><font color="cyan">More information can be seen here</font></a>.</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> pContour <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> pContour <span class="token operator">=</span> pContour<span class="token operator">-</span><span class="token operator">></span>h_next<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>The difference of <font color="GreenYellow">h_next</font> and <font color="GreenYellow">v_next</font> <a href="http://jmpelletier.com/a-simple-opencv-tutorial/" target="_blank" rel="noopener"><font color="cyan">can be seen here</font></a>.</p>
<center><br><img src="http://ox8ixvjau.bkt.clouddn.com/images/Contours.gif"><br></center>

<pre class="line-numbers language-cpp"><code class="language-cpp">CvSeq <span class="token operator">*</span>pContour <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>pContour<span class="token operator">-</span><span class="token operator">></span>total <span class="token operator">></span> <span class="token number">10</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Total is one of the methods of ‘CvSeq’.It represents the total number of elements.</p>
<h2 id="The-End"><a href="#The-End" class="headerlink" title="The End"></a><font color="yellowish"><center>The End</center></font></h2>
            </div>

            <!-- Post Comments -->
            
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #7EC0EE;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load" id="disqus_bt"> 
    <button class="disqus_click_btn">点击查看评论</button>
</div>

<!--
<script type="text/javascript">
$('.btn_click_load').click(function() {
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'http-miccall-tech'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    document.getElementById('disqus_bt').style.display = "none";
});
</script>
-->
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/ColorSpaces/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/ColorSpaces/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/javascript">
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//http-miccall-tech.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>


        </div>
        <!-- Copyright 版权 start -->
                <div id="copyright">
            <ul>
                <li>&copy;Powered By <a href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li>
                <li>Design: <a href="https://evilperfectionist.github.io " style="border-bottom: none;">EvilPerfectionist</a></li>
            </ul>
            
            	<span id="busuanzi_container_site_pv">2017总访问量<span id="busuanzi_value_site_pv"></span>次</span>
			
        </div>
    </div>
</body>



 	
</html>
